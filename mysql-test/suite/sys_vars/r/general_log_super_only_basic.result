SET @old_general_log = @@GLOBAL.general_log;
SET GLOBAL general_log = 1;

# general_log_super_only is a global variable.
SET @@SESSION.general_log_super_only = 0;
ERROR HY000: Variable 'general_log_super_only' is a GLOBAL variable and should be set with SET GLOBAL
SET GLOBAL general_log = OFF;
SET GLOBAL general_log_super_only = ON;
SET GLOBAL general_log = ON;
SET GLOBAL general_log_super_only = ON;
SELECT @@GLOBAL.general_log_super_only;
@@GLOBAL.general_log_super_only
1
SET GLOBAL general_log_super_only = OFF;
SET GLOBAL general_log = OFF;
SET GLOBAL general_log = @old_general_log;
